import{r as s,j as v,R as y,i as q}from"./app-CReFZqIV.js";import{a as L,P as G,c as h,u as z}from"./index-B9nCDBby.js";import{f as Z,g as O}from"./index--n5hxdl0.js";import{u as J,a as Q}from"./index-BePiITCa.js";function j(e){const t=X(e),n=s.forwardRef((o,c)=>{const{children:l,...d}=o,u=s.Children.toArray(l),g=u.find(te);if(g){const p=g.props.children,a=u.map(E=>E===g?s.Children.count(p)>1?s.Children.only(null):s.isValidElement(p)?p.props.children:null:E);return v.jsx(t,{...d,ref:c,children:s.isValidElement(p)?s.cloneElement(p,void 0,a):null})}return v.jsx(t,{...d,ref:c,children:l})});return n.displayName=`${e}.Slot`,n}function X(e){const t=s.forwardRef((n,o)=>{const{children:c,...l}=n;if(s.isValidElement(c)){const d=ne(c),u=oe(l,c.props);return c.type!==s.Fragment&&(u.ref=o?Z(o,d):d),s.cloneElement(c,u)}return s.Children.count(c)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ee=Symbol("radix.slottable");function te(e){return s.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ee}function oe(e,t){const n={...t};for(const o in t){const c=e[o],l=t[o];/^on[A-Z]/.test(o)?c&&l?n[o]=(...u)=>{const g=l(...u);return c(...u),g}:c&&(n[o]=c):o==="style"?n[o]={...c,...l}:o==="className"&&(n[o]=[c,l].filter(Boolean).join(" "))}return{...e,...n}}function ne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function re(e){const t=e+"CollectionProvider",[n,o]=L(t),[c,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=R=>{const{scope:r,children:m}=R,C=y.useRef(null),i=y.useRef(new Map).current;return v.jsx(c,{scope:r,itemMap:i,collectionRef:C,children:m})};d.displayName=t;const u=e+"CollectionSlot",g=j(u),p=y.forwardRef((R,r)=>{const{scope:m,children:C}=R,i=l(u,m),f=O(r,i.collectionRef);return v.jsx(g,{ref:f,children:C})});p.displayName=u;const a=e+"CollectionItemSlot",E="data-radix-collection-item",F=j(a),S=y.forwardRef((R,r)=>{const{scope:m,children:C,...i}=R,f=y.useRef(null),x=O(r,f),w=l(a,m);return y.useEffect(()=>(w.itemMap.set(f,{ref:f,...i}),()=>{w.itemMap.delete(f)})),v.jsx(F,{[E]:"",ref:x,children:C})});S.displayName=a;function T(R){const r=l(e+"CollectionConsumer",R);return y.useCallback(()=>{const C=r.collectionRef.current;if(!C)return[];const i=Array.from(C.querySelectorAll(`[${E}]`));return Array.from(r.itemMap.values()).sort((w,_)=>i.indexOf(w.ref.current)-i.indexOf(_.ref.current))},[r.collectionRef,r.itemMap])}return[{Provider:d,Slot:p,ItemSlot:S},T,o]}var P="rovingFocusGroup.onEntryFocus",se={bubbles:!1,cancelable:!0},A="RovingFocusGroup",[M,K,ce]=re(A),[ie,Ee]=L(A,[ce]),[le,ae]=ie(A),k=s.forwardRef((e,t)=>v.jsx(M.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(M.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(ue,{...e,ref:t})})}));k.displayName=A;var ue=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:c=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:a=!1,...E}=e,F=s.useRef(null),S=O(t,F),T=q(l),[R,r]=z({prop:d,defaultProp:u??null,onChange:g,caller:A}),[m,C]=s.useState(!1),i=Q(p),f=K(n),x=s.useRef(!1),[w,_]=s.useState(0);return s.useEffect(()=>{const I=F.current;if(I)return I.addEventListener(P,i),()=>I.removeEventListener(P,i)},[i]),v.jsx(le,{scope:n,orientation:o,dir:T,loop:c,currentTabStopId:R,onItemFocus:s.useCallback(I=>r(I),[r]),onItemShiftTab:s.useCallback(()=>C(!0),[]),onFocusableItemAdd:s.useCallback(()=>_(I=>I+1),[]),onFocusableItemRemove:s.useCallback(()=>_(I=>I-1),[]),children:v.jsx(G.div,{tabIndex:m||w===0?-1:0,"data-orientation":o,...E,ref:S,style:{outline:"none",...e.style},onMouseDown:h(e.onMouseDown,()=>{x.current=!0}),onFocus:h(e.onFocus,I=>{const W=!x.current;if(I.target===I.currentTarget&&W&&!m){const D=new CustomEvent(P,se);if(I.currentTarget.dispatchEvent(D),!D.defaultPrevented){const N=f().filter(b=>b.focusable),H=N.find(b=>b.active),Y=N.find(b=>b.id===R),$=[H,Y,...N].filter(Boolean).map(b=>b.ref.current);B($,a)}}x.current=!1}),onBlur:h(e.onBlur,()=>C(!1))})})}),V="RovingFocusGroupItem",U=s.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:c=!1,tabStopId:l,children:d,...u}=e,g=J(),p=l||g,a=ae(V,n),E=a.currentTabStopId===p,F=K(n),{onFocusableItemAdd:S,onFocusableItemRemove:T,currentTabStopId:R}=a;return s.useEffect(()=>{if(o)return S(),()=>T()},[o,S,T]),v.jsx(M.ItemSlot,{scope:n,id:p,focusable:o,active:c,children:v.jsx(G.span,{tabIndex:E?0:-1,"data-orientation":a.orientation,...u,ref:t,onMouseDown:h(e.onMouseDown,r=>{o?a.onItemFocus(p):r.preventDefault()}),onFocus:h(e.onFocus,()=>a.onItemFocus(p)),onKeyDown:h(e.onKeyDown,r=>{if(r.key==="Tab"&&r.shiftKey){a.onItemShiftTab();return}if(r.target!==r.currentTarget)return;const m=pe(r,a.orientation,a.dir);if(m!==void 0){if(r.metaKey||r.ctrlKey||r.altKey||r.shiftKey)return;r.preventDefault();let i=F().filter(f=>f.focusable).map(f=>f.ref.current);if(m==="last")i.reverse();else if(m==="prev"||m==="next"){m==="prev"&&i.reverse();const f=i.indexOf(r.currentTarget);i=a.loop?me(i,f+1):i.slice(f+1)}setTimeout(()=>B(i))}}),children:typeof d=="function"?d({isCurrentTabStop:E,hasTabStop:R!=null}):d})})});U.displayName=V;var fe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function de(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pe(e,t,n){const o=de(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return fe[o]}function B(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function me(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Se=k,be=U;export{be as I,Se as R,Ee as a,re as c};
