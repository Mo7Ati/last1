import{a as s,j as u,c as F}from"./app-CyAQI-Ct.js";import{b as Ue,c as Xe,a as Ze,d as Je,C as Ye}from"./card-C0yM5qYx.js";import{c as Qe,b as ae,d as et,e as Se,P as L,f as de,g as je,h as tt,i as H,u as rt}from"./index-DaKOksDM.js";import{B as nt}from"./button-BcUc1fug.js";import{c as ke,A as Ae,P as ot,R as lt,h as at,a as st,u as it,F as ct,D as ut,C as dt,b as ft}from"./Combination-DOle1ty5.js";import{u as te}from"./index-D1Sxl0Yc.js";import{R as pt,P as mt,O as vt,C as ht}from"./index-COOPCwlG.js";import{B as gt}from"./badge-5ozl_ORM.js";import{X as xt}from"./x-CKbwRa-P.js";import{C as bt}from"./chevron-down-DrZHp85x.js";import{I as Ct}from"./input-error-DOym8gwO.js";/* empty css            */import"./index-CdqmiLvL.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],wt=Qe("Search",yt);function Pt(r){const e=Rt(r),t=s.forwardRef((n,o)=>{const{children:l,...i}=n,d=s.Children.toArray(l),m=d.find(St);if(m){const c=m.props.children,h=d.map(v=>v===m?s.Children.count(c)>1?s.Children.only(null):s.isValidElement(c)?c.props.children:null:v);return u.jsx(e,{...i,ref:o,children:s.isValidElement(c)?s.cloneElement(c,void 0,h):null})}return u.jsx(e,{...i,ref:o,children:l})});return t.displayName=`${r}.Slot`,t}function Rt(r){const e=s.forwardRef((t,n)=>{const{children:o,...l}=t;if(s.isValidElement(o)){const i=kt(o),d=jt(l,o.props);return o.type!==s.Fragment&&(d.ref=n?ae(n,i):i),s.cloneElement(o,d)}return s.Children.count(o)>1?s.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var Et=Symbol("radix.slottable");function St(r){return s.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===Et}function jt(r,e){const t={...e};for(const n in e){const o=r[n],l=e[n];/^on[A-Z]/.test(n)?o&&l?t[n]=(...d)=>{const m=l(...d);return o(...d),m}:o&&(t[n]=o):n==="style"?t[n]={...o,...l}:n==="className"&&(t[n]=[o,l].filter(Boolean).join(" "))}return{...r,...t}}function kt(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var me="Popover",[Ie,Lr]=et(me,[ke]),fe=ke(),[At,G]=Ie(me),Ne=r=>{const{__scopePopover:e,children:t,open:n,defaultOpen:o,onOpenChange:l,modal:i=!1}=r,d=fe(e),m=s.useRef(null),[c,h]=s.useState(!1),[v,b]=tt({prop:n,defaultProp:o??!1,onChange:l,caller:me});return u.jsx(lt,{...d,children:u.jsx(At,{scope:e,contentId:te(),triggerRef:m,open:v,onOpenChange:b,onOpenToggle:s.useCallback(()=>b(y=>!y),[b]),hasCustomAnchor:c,onCustomAnchorAdd:s.useCallback(()=>h(!0),[]),onCustomAnchorRemove:s.useCallback(()=>h(!1),[]),modal:i,children:t})})};Ne.displayName=me;var Oe="PopoverAnchor",It=s.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,o=G(Oe,t),l=fe(t),{onCustomAnchorAdd:i,onCustomAnchorRemove:d}=o;return s.useEffect(()=>(i(),()=>d()),[i,d]),u.jsx(Ae,{...l,...n,ref:e})});It.displayName=Oe;var _e="PopoverTrigger",$e=s.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,o=G(_e,t),l=fe(t),i=Se(e,o.triggerRef),d=u.jsx(L.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Le(o.open),...n,ref:i,onClick:de(r.onClick,o.onOpenToggle)});return o.hasCustomAnchor?d:u.jsx(Ae,{asChild:!0,...l,children:d})});$e.displayName=_e;var ye="PopoverPortal",[Nt,Ot]=Ie(ye,{forceMount:void 0}),De=r=>{const{__scopePopover:e,forceMount:t,children:n,container:o}=r,l=G(ye,e);return u.jsx(Nt,{scope:e,forceMount:t,children:u.jsx(je,{present:t||l.open,children:u.jsx(ot,{asChild:!0,container:o,children:n})})})};De.displayName=ye;var se="PopoverContent",Me=s.forwardRef((r,e)=>{const t=Ot(se,r.__scopePopover),{forceMount:n=t.forceMount,...o}=r,l=G(se,r.__scopePopover);return u.jsx(je,{present:n||l.open,children:l.modal?u.jsx($t,{...o,ref:e}):u.jsx(Dt,{...o,ref:e})})});Me.displayName=se;var _t=Pt("PopoverContent.RemoveScroll"),$t=s.forwardRef((r,e)=>{const t=G(se,r.__scopePopover),n=s.useRef(null),o=Se(e,n),l=s.useRef(!1);return s.useEffect(()=>{const i=n.current;if(i)return at(i)},[]),u.jsx(st,{as:_t,allowPinchZoom:!0,children:u.jsx(Fe,{...r,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:de(r.onCloseAutoFocus,i=>{i.preventDefault(),l.current||t.triggerRef.current?.focus()}),onPointerDownOutside:de(r.onPointerDownOutside,i=>{const d=i.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,c=d.button===2||m;l.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:de(r.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),Dt=s.forwardRef((r,e)=>{const t=G(se,r.__scopePopover),n=s.useRef(!1),o=s.useRef(!1);return u.jsx(Fe,{...r,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{r.onCloseAutoFocus?.(l),l.defaultPrevented||(n.current||t.triggerRef.current?.focus(),l.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:l=>{r.onInteractOutside?.(l),l.defaultPrevented||(n.current=!0,l.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const i=l.target;t.triggerRef.current?.contains(i)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&o.current&&l.preventDefault()}})}),Fe=s.forwardRef((r,e)=>{const{__scopePopover:t,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:c,onInteractOutside:h,...v}=r,b=G(se,t),y=fe(t);return it(),u.jsx(ct,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:l,children:u.jsx(ut,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:c,onDismiss:()=>b.onOpenChange(!1),children:u.jsx(dt,{"data-state":Le(b.open),role:"dialog",id:b.contentId,...y,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Te="PopoverClose",Mt=s.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,o=G(Te,t);return u.jsx(L.button,{type:"button",...n,ref:e,onClick:de(r.onClick,()=>o.onOpenChange(!1))})});Mt.displayName=Te;var Ft="PopoverArrow",Tt=s.forwardRef((r,e)=>{const{__scopePopover:t,...n}=r,o=fe(t);return u.jsx(ft,{...o,...n,ref:e})});Tt.displayName=Ft;function Le(r){return r?"open":"closed"}var Lt=Ne,Vt=$e,Bt=De,Kt=Me;function qt(r){const e=F.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let n;return e[2]!==t?(n=u.jsx(Lt,{"data-slot":"popover",...t}),e[2]=t,e[3]=n):n=e[3],n}function zt(r){const e=F.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let n;return e[2]!==t?(n=u.jsx(Vt,{"data-slot":"popover-trigger",...t}),e[2]=t,e[3]=n):n=e[3],n}function Ht(r){const e=F.c(12);let t,n,o,l;e[0]!==r?({className:t,align:o,sideOffset:l,...n}=r,e[0]=r,e[1]=t,e[2]=n,e[3]=o,e[4]=l):(t=e[1],n=e[2],o=e[3],l=e[4]);const i=o===void 0?"center":o,d=l===void 0?4:l;let m;e[5]!==t?(m=H("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),e[5]=t,e[6]=m):m=e[6];let c;return e[7]!==i||e[8]!==n||e[9]!==d||e[10]!==m?(c=u.jsx(Bt,{children:u.jsx(Kt,{"data-slot":"popover-content",align:i,sideOffset:d,className:m,...n})}),e[7]=i,e[8]=n,e[9]=d,e[10]=m,e[11]=c):c=e[11],c}var Pe=1,Wt=.9,Gt=.8,Ut=.17,he=.1,ge=.999,Xt=.9999,Zt=.99,Jt=/[\\\/_+.#"@\[\(\{&]/,Yt=/[\\\/_+.#"@\[\(\{&]/g,Qt=/[\s-]/,Ve=/[\s-]/g;function be(r,e,t,n,o,l,i){if(l===e.length)return o===r.length?Pe:Zt;var d=`${o},${l}`;if(i[d]!==void 0)return i[d];for(var m=n.charAt(l),c=t.indexOf(m,o),h=0,v,b,y,A;c>=0;)v=be(r,e,t,n,c+1,l+1,i),v>h&&(c===o?v*=Pe:Jt.test(r.charAt(c-1))?(v*=Gt,y=r.slice(o,c-1).match(Yt),y&&o>0&&(v*=Math.pow(ge,y.length))):Qt.test(r.charAt(c-1))?(v*=Wt,A=r.slice(o,c-1).match(Ve),A&&o>0&&(v*=Math.pow(ge,A.length))):(v*=Ut,o>0&&(v*=Math.pow(ge,c-o))),r.charAt(c)!==e.charAt(l)&&(v*=Xt)),(v<he&&t.charAt(c-1)===n.charAt(l+1)||n.charAt(l+1)===n.charAt(l)&&t.charAt(c-1)!==n.charAt(l))&&(b=be(r,e,t,n,c+1,l+2,i),b*he>v&&(v=b*he)),v>h&&(h=v),c=t.indexOf(m,c+1);return i[d]=h,h}function Re(r){return r.toLowerCase().replace(Ve," ")}function er(r,e,t){return r=t&&t.length>0?`${r+" "+t.join(" ")}`:r,be(r,e,Re(r),Re(e),0,0,{})}var ue='[cmdk-group=""]',xe='[cmdk-group-items=""]',tr='[cmdk-group-heading=""]',Be='[cmdk-item=""]',Ee=`${Be}:not([aria-disabled="true"])`,Ce="cmdk-item-select",oe="data-value",rr=(r,e,t)=>er(r,e,t),Ke=s.createContext(void 0),pe=()=>s.useContext(Ke),qe=s.createContext(void 0),we=()=>s.useContext(qe),ze=s.createContext(void 0),He=s.forwardRef((r,e)=>{let t=le(()=>{var a,p;return{search:"",value:(p=(a=r.value)!=null?a:r.defaultValue)!=null?p:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=le(()=>new Set),o=le(()=>new Map),l=le(()=>new Map),i=le(()=>new Set),d=We(r),{label:m,children:c,value:h,onValueChange:v,filter:b,shouldFilter:y,loop:A,disablePointerSelection:$=!1,vimBindings:I=!0,...P}=r,_=te(),D=te(),U=te(),N=s.useRef(null),E=pr();re(()=>{if(h!==void 0){let a=h.trim();t.current.value=a,k.emit()}},[h]),re(()=>{E(6,J)},[]);let k=s.useMemo(()=>({subscribe:a=>(i.current.add(a),()=>i.current.delete(a)),snapshot:()=>t.current,setState:(a,p,g)=>{var f,C,w,S;if(!Object.is(t.current[a],p)){if(t.current[a]=p,a==="search")V(),Z(),E(1,z);else if(a==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let j=document.getElementById(U);j?j.focus():(f=document.getElementById(_))==null||f.focus()}if(E(7,()=>{var j;t.current.selectedItemId=(j=M())==null?void 0:j.id,k.emit()}),g||E(5,J),((C=d.current)==null?void 0:C.value)!==void 0){let j=p??"";(S=(w=d.current).onValueChange)==null||S.call(w,j);return}}k.emit()}},emit:()=>{i.current.forEach(a=>a())}}),[]),X=s.useMemo(()=>({value:(a,p,g)=>{var f;p!==((f=l.current.get(a))==null?void 0:f.value)&&(l.current.set(a,{value:p,keywords:g}),t.current.filtered.items.set(a,q(p,g)),E(2,()=>{Z(),k.emit()}))},item:(a,p)=>(n.current.add(a),p&&(o.current.has(p)?o.current.get(p).add(a):o.current.set(p,new Set([a]))),E(3,()=>{V(),Z(),t.current.value||z(),k.emit()}),()=>{l.current.delete(a),n.current.delete(a),t.current.filtered.items.delete(a);let g=M();E(4,()=>{V(),g?.getAttribute("id")===a&&z(),k.emit()})}),group:a=>(o.current.has(a)||o.current.set(a,new Set),()=>{l.current.delete(a),o.current.delete(a)}),filter:()=>d.current.shouldFilter,label:m||r["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:_,inputId:U,labelId:D,listInnerRef:N}),[]);function q(a,p){var g,f;let C=(f=(g=d.current)==null?void 0:g.filter)!=null?f:rr;return a?C(a,t.current.search,p):0}function Z(){if(!t.current.search||d.current.shouldFilter===!1)return;let a=t.current.filtered.items,p=[];t.current.filtered.groups.forEach(f=>{let C=o.current.get(f),w=0;C.forEach(S=>{let j=a.get(S);w=Math.max(j,w)}),p.push([f,w])});let g=N.current;T().sort((f,C)=>{var w,S;let j=f.getAttribute("id"),x=C.getAttribute("id");return((w=a.get(x))!=null?w:0)-((S=a.get(j))!=null?S:0)}).forEach(f=>{let C=f.closest(xe);C?C.appendChild(f.parentElement===C?f:f.closest(`${xe} > *`)):g.appendChild(f.parentElement===g?f:f.closest(`${xe} > *`))}),p.sort((f,C)=>C[1]-f[1]).forEach(f=>{var C;let w=(C=N.current)==null?void 0:C.querySelector(`${ue}[${oe}="${encodeURIComponent(f[0])}"]`);w?.parentElement.appendChild(w)})}function z(){let a=T().find(g=>g.getAttribute("aria-disabled")!=="true"),p=a?.getAttribute(oe);k.setState("value",p||void 0)}function V(){var a,p,g,f;if(!t.current.search||d.current.shouldFilter===!1){t.current.filtered.count=n.current.size;return}t.current.filtered.groups=new Set;let C=0;for(let w of n.current){let S=(p=(a=l.current.get(w))==null?void 0:a.value)!=null?p:"",j=(f=(g=l.current.get(w))==null?void 0:g.keywords)!=null?f:[],x=q(S,j);t.current.filtered.items.set(w,x),x>0&&C++}for(let[w,S]of o.current)for(let j of S)if(t.current.filtered.items.get(j)>0){t.current.filtered.groups.add(w);break}t.current.filtered.count=C}function J(){var a,p,g;let f=M();f&&(((a=f.parentElement)==null?void 0:a.firstChild)===f&&((g=(p=f.closest(ue))==null?void 0:p.querySelector(tr))==null||g.scrollIntoView({block:"nearest"})),f.scrollIntoView({block:"nearest"}))}function M(){var a;return(a=N.current)==null?void 0:a.querySelector(`${Be}[aria-selected="true"]`)}function T(){var a;return Array.from(((a=N.current)==null?void 0:a.querySelectorAll(Ee))||[])}function Y(a){let p=T()[a];p&&k.setState("value",p.getAttribute(oe))}function Q(a){var p;let g=M(),f=T(),C=f.findIndex(S=>S===g),w=f[C+a];(p=d.current)!=null&&p.loop&&(w=C+a<0?f[f.length-1]:C+a===f.length?f[0]:f[C+a]),w&&k.setState("value",w.getAttribute(oe))}function ne(a){let p=M(),g=p?.closest(ue),f;for(;g&&!f;)g=a>0?dr(g,ue):fr(g,ue),f=g?.querySelector(Ee);f?k.setState("value",f.getAttribute(oe)):Q(a)}let B=()=>Y(T().length-1),K=a=>{a.preventDefault(),a.metaKey?B():a.altKey?ne(1):Q(1)},ee=a=>{a.preventDefault(),a.metaKey?Y(0):a.altKey?ne(-1):Q(-1)};return s.createElement(L.div,{ref:e,tabIndex:-1,...P,"cmdk-root":"",onKeyDown:a=>{var p;(p=P.onKeyDown)==null||p.call(P,a);let g=a.nativeEvent.isComposing||a.keyCode===229;if(!(a.defaultPrevented||g))switch(a.key){case"n":case"j":{I&&a.ctrlKey&&K(a);break}case"ArrowDown":{K(a);break}case"p":case"k":{I&&a.ctrlKey&&ee(a);break}case"ArrowUp":{ee(a);break}case"Home":{a.preventDefault(),Y(0);break}case"End":{a.preventDefault(),B();break}case"Enter":{a.preventDefault();let f=M();if(f){let C=new Event(Ce);f.dispatchEvent(C)}}}}},s.createElement("label",{"cmdk-label":"",htmlFor:X.inputId,id:X.labelId,style:vr},m),ve(r,a=>s.createElement(qe.Provider,{value:k},s.createElement(Ke.Provider,{value:X},a))))}),nr=s.forwardRef((r,e)=>{var t,n;let o=te(),l=s.useRef(null),i=s.useContext(ze),d=pe(),m=We(r),c=(n=(t=m.current)==null?void 0:t.forceMount)!=null?n:i?.forceMount;re(()=>{if(!c)return d.item(o,i?.id)},[c]);let h=Ge(o,l,[r.value,r.children,l],r.keywords),v=we(),b=W(E=>E.value&&E.value===h.current),y=W(E=>c||d.filter()===!1?!0:E.search?E.filtered.items.get(o)>0:!0);s.useEffect(()=>{let E=l.current;if(!(!E||r.disabled))return E.addEventListener(Ce,A),()=>E.removeEventListener(Ce,A)},[y,r.onSelect,r.disabled]);function A(){var E,k;$(),(k=(E=m.current).onSelect)==null||k.call(E,h.current)}function $(){v.setState("value",h.current,!0)}if(!y)return null;let{disabled:I,value:P,onSelect:_,forceMount:D,keywords:U,...N}=r;return s.createElement(L.div,{ref:ae(l,e),...N,id:o,"cmdk-item":"",role:"option","aria-disabled":!!I,"aria-selected":!!b,"data-disabled":!!I,"data-selected":!!b,onPointerMove:I||d.getDisablePointerSelection()?void 0:$,onClick:I?void 0:A},r.children)}),or=s.forwardRef((r,e)=>{let{heading:t,children:n,forceMount:o,...l}=r,i=te(),d=s.useRef(null),m=s.useRef(null),c=te(),h=pe(),v=W(y=>o||h.filter()===!1?!0:y.search?y.filtered.groups.has(i):!0);re(()=>h.group(i),[]),Ge(i,d,[r.value,r.heading,m]);let b=s.useMemo(()=>({id:i,forceMount:o}),[o]);return s.createElement(L.div,{ref:ae(d,e),...l,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},t&&s.createElement("div",{ref:m,"cmdk-group-heading":"","aria-hidden":!0,id:c},t),ve(r,y=>s.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?c:void 0},s.createElement(ze.Provider,{value:b},y))))}),lr=s.forwardRef((r,e)=>{let{alwaysRender:t,...n}=r,o=s.useRef(null),l=W(i=>!i.search);return!t&&!l?null:s.createElement(L.div,{ref:ae(o,e),...n,"cmdk-separator":"",role:"separator"})}),ar=s.forwardRef((r,e)=>{let{onValueChange:t,...n}=r,o=r.value!=null,l=we(),i=W(c=>c.search),d=W(c=>c.selectedItemId),m=pe();return s.useEffect(()=>{r.value!=null&&l.setState("search",r.value)},[r.value]),s.createElement(L.input,{ref:e,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":m.listId,"aria-labelledby":m.labelId,"aria-activedescendant":d,id:m.inputId,type:"text",value:o?r.value:i,onChange:c=>{o||l.setState("search",c.target.value),t?.(c.target.value)}})}),sr=s.forwardRef((r,e)=>{let{children:t,label:n="Suggestions",...o}=r,l=s.useRef(null),i=s.useRef(null),d=W(c=>c.selectedItemId),m=pe();return s.useEffect(()=>{if(i.current&&l.current){let c=i.current,h=l.current,v,b=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let y=c.offsetHeight;h.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return b.observe(c),()=>{cancelAnimationFrame(v),b.unobserve(c)}}},[]),s.createElement(L.div,{ref:ae(l,e),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":d,"aria-label":n,id:m.listId},ve(r,c=>s.createElement("div",{ref:ae(i,m.listInnerRef),"cmdk-list-sizer":""},c)))}),ir=s.forwardRef((r,e)=>{let{open:t,onOpenChange:n,overlayClassName:o,contentClassName:l,container:i,...d}=r;return s.createElement(pt,{open:t,onOpenChange:n},s.createElement(mt,{container:i},s.createElement(vt,{"cmdk-overlay":"",className:o}),s.createElement(ht,{"aria-label":r.label,"cmdk-dialog":"",className:l},s.createElement(He,{ref:e,...d}))))}),cr=s.forwardRef((r,e)=>W(t=>t.filtered.count===0)?s.createElement(L.div,{ref:e,...r,"cmdk-empty":"",role:"presentation"}):null),ur=s.forwardRef((r,e)=>{let{progress:t,children:n,label:o="Loading...",...l}=r;return s.createElement(L.div,{ref:e,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},ve(r,i=>s.createElement("div",{"aria-hidden":!0},i)))}),ie=Object.assign(He,{List:sr,Item:nr,Input:ar,Group:or,Separator:lr,Dialog:ir,Empty:cr,Loading:ur});function dr(r,e){let t=r.nextElementSibling;for(;t;){if(t.matches(e))return t;t=t.nextElementSibling}}function fr(r,e){let t=r.previousElementSibling;for(;t;){if(t.matches(e))return t;t=t.previousElementSibling}}function We(r){let e=s.useRef(r);return re(()=>{e.current=r}),e}var re=typeof window>"u"?s.useEffect:s.useLayoutEffect;function le(r){let e=s.useRef();return e.current===void 0&&(e.current=r()),e}function W(r){let e=we(),t=()=>r(e.snapshot());return s.useSyncExternalStore(e.subscribe,t,t)}function Ge(r,e,t,n=[]){let o=s.useRef(),l=pe();return re(()=>{var i;let d=(()=>{var c;for(let h of t){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(c=h.current.textContent)==null?void 0:c.trim():o.current}})(),m=n.map(c=>c.trim());l.value(r,d,m),(i=e.current)==null||i.setAttribute(oe,d),o.current=d}),o}var pr=()=>{let[r,e]=s.useState(),t=le(()=>new Map);return re(()=>{t.current.forEach(n=>n()),t.current=new Map},[r]),(n,o)=>{t.current.set(n,o),e({})}};function mr(r){let e=r.type;return typeof e=="function"?e(r.props):"render"in e?e.render(r.props):r}function ve({asChild:r,children:e},t){return r&&s.isValidElement(e)?s.cloneElement(mr(e),{ref:e.ref},t(e.props.children)):t(e)}var vr={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function hr(r){const e=F.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=H("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",t),e[3]=t,e[4]=o):o=e[4];let l;return e[5]!==n||e[6]!==o?(l=u.jsx(ie,{"data-slot":"command",className:o,...n}),e[5]=n,e[6]=o,e[7]=l):l=e[7],l}function gr(r){const e=F.c(9);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o=u.jsx(wt,{className:"size-4 shrink-0 opacity-50"}),e[3]=o):o=e[3];let l;e[4]!==t?(l=H("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),e[4]=t,e[5]=l):l=e[5];let i;return e[6]!==n||e[7]!==l?(i=u.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[o,u.jsx(ie.Input,{"data-slot":"command-input",className:l,...n})]}),e[6]=n,e[7]=l,e[8]=i):i=e[8],i}function xr(r){const e=F.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=H("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",t),e[3]=t,e[4]=o):o=e[4];let l;return e[5]!==n||e[6]!==o?(l=u.jsx(ie.List,{"data-slot":"command-list",className:o,...n}),e[5]=n,e[6]=o,e[7]=l):l=e[7],l}function br(r){const e=F.c(4);let t;e[0]!==r?({...t}=r,e[0]=r,e[1]=t):t=e[1];let n;return e[2]!==t?(n=u.jsx(ie.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...t}),e[2]=t,e[3]=n):n=e[3],n}function Cr(r){const e=F.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=H("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),e[3]=t,e[4]=o):o=e[4];let l;return e[5]!==n||e[6]!==o?(l=u.jsx(ie.Group,{"data-slot":"command-group",className:o,...n}),e[5]=n,e[6]=o,e[7]=l):l=e[7],l}function yr(r){const e=F.c(8);let t,n;e[0]!==r?({className:t,...n}=r,e[0]=r,e[1]=t,e[2]=n):(t=e[1],n=e[2]);let o;e[3]!==t?(o=H("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),e[3]=t,e[4]=o):o=e[4];let l;return e[5]!==n||e[6]!==o?(l=u.jsx(ie.Item,{"data-slot":"command-item",className:o,...n}),e[5]=n,e[6]=o,e[7]=l):l=e[7],l}function wr(r){const e=F.c(69),{options:t,selected:n,onSelectedChange:o,placeholder:l,searchPlaceholder:i,emptyMessage:d,maxCount:m,className:c,disabled:h,showBadges:v,renderOption:b,renderBadge:y}=r,A=l===void 0?"Select items...":l,$=i===void 0?"Search...":i,I=d===void 0?"No items found.":d,P=h===void 0?!1:h,_=v===void 0?!0:v,[D,U]=s.useState(!1),[N,E]=s.useState("");let k;if(e[0]!==t||e[1]!==n){let x;e[3]!==n?(x=R=>n.includes(R.value),e[3]=n,e[4]=x):x=e[4],k=t.filter(x),e[0]=t,e[1]=n,e[2]=k}else k=e[2];const X=k;let q;if(e[5]!==t||e[6]!==N||e[7]!==n){e:{let x;e[9]!==n?(x=ce=>!n.includes(ce.value),e[9]=n,e[10]=x):x=e[10];const R=t.filter(x);if(!N){q=R;break e}let O;e[11]!==N?(O=ce=>ce.label.toLowerCase().includes(N.toLowerCase()),e[11]=N,e[12]=O):O=e[12],q=R.filter(O)}e[5]=t,e[6]=N,e[7]=n,e[8]=q}else q=e[8];const Z=q;let z;e[13]!==P||e[14]!==o||e[15]!==n?(z=x=>{if(P)return;const R=n.includes(x)?n.filter(O=>O!==x):[...n,x];o(R)},e[13]=P,e[14]=o,e[15]=n,e[16]=z):z=e[16];const V=z;let J;e[17]!==P||e[18]!==o||e[19]!==n?(J=(x,R)=>{R.stopPropagation(),!P&&o(n.filter(O=>O!==x))},e[17]=P,e[18]=o,e[19]=n,e[20]=J):J=e[20];const M=J;let T;e:{if(n.length===0){T=A;break e}if(n.length===1){let x;if(e[21]!==t||e[22]!==n[0]){let O;e[24]!==n[0]?(O=ce=>ce.value===n[0],e[24]=n[0],e[25]=O):O=e[25],x=t.find(O),e[21]=t,e[22]=n[0],e[23]=x}else x=e[23];T=x?.label||A;break e}T=`${n.length} items selected`}const Y=T,Q=!n.length&&"text-muted-foreground",ne=n.length>0&&_&&"min-h-[2.5rem] h-auto py-2";let B;e[26]!==c||e[27]!==Q||e[28]!==ne?(B=H("w-full justify-between text-left font-normal",Q,ne,c),e[26]=c,e[27]=Q,e[28]=ne,e[29]=B):B=e[29];let K;e[30]!==Y||e[31]!==M||e[32]!==y||e[33]!==n.length||e[34]!==X||e[35]!==_?(K=u.jsx("div",{className:"flex flex-wrap gap-1 flex-1 min-w-0",children:_&&n.length>0?u.jsx(u.Fragment,{children:X.map(x=>y?u.jsx(s.Fragment,{children:y(x,()=>M(x.value,{}))},x.value):u.jsxs(gt,{variant:"secondary",className:"mr-1",children:[x.label,u.jsx("span",{role:"button",tabIndex:0,"aria-label":`Remove ${x.label}`,className:"ml-1 ring-offset-background rounded-full outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 cursor-pointer hover:bg-muted p-0.5 transition-colors",onKeyDown:R=>{(R.key==="Enter"||R.key===" ")&&(R.preventDefault(),M(x.value,R))},onMouseDown:Pr,onClick:R=>M(x.value,R),children:u.jsx(xt,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},x.value))}):u.jsx("span",{className:"truncate",children:Y})}),e[30]=Y,e[31]=M,e[32]=y,e[33]=n.length,e[34]=X,e[35]=_,e[36]=K):K=e[36];let ee;e[37]===Symbol.for("react.memo_cache_sentinel")?(ee=u.jsx(bt,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"}),e[37]=ee):ee=e[37];let a;e[38]!==P||e[39]!==D||e[40]!==B||e[41]!==K?(a=u.jsx(zt,{asChild:!0,children:u.jsxs(nt,{variant:"outline",role:"combobox","aria-expanded":D,"aria-haspopup":"listbox",disabled:P,className:B,children:[K,ee]})}),e[38]=P,e[39]=D,e[40]=B,e[41]=K,e[42]=a):a=e[42];let p;e[43]!==N||e[44]!==$?(p=u.jsx(gr,{placeholder:$,value:N,onValueChange:E}),e[43]=N,e[44]=$,e[45]=p):p=e[45];let g;e[46]!==I?(g=u.jsx(br,{children:I}),e[46]=I,e[47]=g):g=e[47];let f;if(e[48]!==P||e[49]!==Z||e[50]!==V||e[51]!==b){let x;e[53]!==P||e[54]!==V||e[55]!==b?(x=R=>{const O=R.disabled||P;return u.jsx(yr,{value:String(R.value),disabled:O,onSelect:()=>!O&&V(R.value),className:H("cursor-pointer",O&&"opacity-50 cursor-not-allowed"),children:u.jsx("div",{className:"flex items-center flex-1",children:b?b(R):u.jsx("span",{className:"flex-1",children:R.label})})},R.value)},e[53]=P,e[54]=V,e[55]=b,e[56]=x):x=e[56],f=Z.map(x),e[48]=P,e[49]=Z,e[50]=V,e[51]=b,e[52]=f}else f=e[52];let C;e[57]!==f?(C=u.jsx(Cr,{children:f}),e[57]=f,e[58]=C):C=e[58];let w;e[59]!==g||e[60]!==C?(w=u.jsxs(xr,{children:[g,C]}),e[59]=g,e[60]=C,e[61]=w):w=e[61];let S;e[62]!==p||e[63]!==w?(S=u.jsx(Ht,{className:"w-[var(--radix-popover-trigger-width)] p-0",align:"start",children:u.jsxs(hr,{shouldFilter:!1,children:[p,w]})}),e[62]=p,e[63]=w,e[64]=S):S=e[64];let j;return e[65]!==D||e[66]!==a||e[67]!==S?(j=u.jsxs(qt,{open:D,onOpenChange:U,children:[a,S]}),e[65]=D,e[66]=a,e[67]=S,e[68]=j):j=e[68],j}function Pr(r){r.preventDefault(),r.stopPropagation()}function Vr(r){const e=F.c(27),{roles:t,selectedRoleNames:n,errors:o,className:l}=r,{t:i}=rt("forms"),[d,m]=s.useState(n);let c;e[0]!==t?(c=t.map(Er),e[0]=t,e[1]=c):c=e[1];const h=c;let v;e[2]!==i?(v=i("admins.assign_roles"),e[2]=i,e[3]=v):v=e[3];let b;e[4]!==v?(b=u.jsx(Ue,{children:v}),e[4]=v,e[5]=b):b=e[5];let y;e[6]!==i?(y=i("admins.assign_roles_desc"),e[6]=i,e[7]=y):y=e[7];let A;e[8]!==y?(A=u.jsx(Xe,{children:y}),e[8]=y,e[9]=A):A=e[9];let $;e[10]!==b||e[11]!==A?($=u.jsxs(Ze,{children:[b,A]}),e[10]=b,e[11]=A,e[12]=$):$=e[12];let I;e[13]!==h||e[14]!==t.length||e[15]!==d||e[16]!==i?(I=t.length===0?u.jsx("p",{className:"text-sm text-muted-foreground",children:i("admins.no_roles_available")}):u.jsxs(u.Fragment,{children:[u.jsx(wr,{options:h,selected:d,onSelectedChange:U=>{m(U)},placeholder:i("admins.select_roles"),searchPlaceholder:i("admins.search_roles"),emptyMessage:i("admins.no_roles_found")}),d.map(Rr)]}),e[13]=h,e[14]=t.length,e[15]=d,e[16]=i,e[17]=I):I=e[17];let P;e[18]!==o?(P=o?.roles&&u.jsx(Ct,{message:o.roles}),e[18]=o,e[19]=P):P=e[19];let _;e[20]!==I||e[21]!==P?(_=u.jsx(Je,{children:u.jsxs("div",{children:[I,P]})}),e[20]=I,e[21]=P,e[22]=_):_=e[22];let D;return e[23]!==l||e[24]!==$||e[25]!==_?(D=u.jsxs(Ye,{className:l,children:[$,_]}),e[23]=l,e[24]=$,e[25]=_,e[26]=D):D=e[26],D}function Rr(r){return u.jsx("input",{type:"hidden",name:"roles[]",value:r},r)}function Er(r){return{label:r.name,value:r.name,permissions_count:r.permissions_count}}export{Vr as default};
