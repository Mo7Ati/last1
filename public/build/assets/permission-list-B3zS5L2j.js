import{c as R,r as Z,j as r}from"./app-CReFZqIV.js";import{C as w,a as z,b as H,d as K}from"./card-CCXf00hf.js";import{C as P}from"./checkbox-DP7ahlzF.js";import{L as S}from"./label-Dg3MsbMJ.js";import{u as q}from"./index--n5hxdl0.js";/* empty css            */import"./index-B9nCDBby.js";import"./index-UWeAr231.js";import"./index-h7gUpZq5.js";import"./check-CzBG5M_7.js";const le=c=>{const e=R.c(37),{role:$,permissions:a}=c,{t:i}=q("forms");let j;e[0]!==$.permissions?(j=$.permissions?.map(B)||[],e[0]=$.permissions,e[1]=j):j=e[1];const[o,F]=Z.useState(j);let C;e[2]!==i?(C=l=>{const s=`permissions.${l}`,n=`permissions.${l.replace(/-/g,"_")}`,t=i(s);if(t!==s)return t;const N=i(n);return N!==n?N:l.replace(/([A-Z])/g," $1")},e[2]=i,e[3]=C):C=e[3];const v=C;let g;e[4]!==i?(g=l=>{const s=`permissions.${l}`,n=i(s);return n!==s?n:l.replace(/([A-Z])/g," $1")},e[4]=i,e[5]=g):g=e[5];const A=g;let b;e[6]===Symbol.for("react.memo_cache_sentinel")?(b=(l,s)=>{F(n=>s?[...n,l]:n.filter(t=>t!==l))},e[6]=b):b=e[6];const T=b;let _;e[7]!==a?(_=(l,s)=>{F(n=>s?[...n,...a[l].map(D)]:n.filter(t=>!a[l].map(I).includes(t)))},e[7]=a,e[8]=_):_=e[8];const E=_;let k;e[9]!==a?(k=l=>{Object.entries(a).forEach(s=>{const[,n]=s;n.forEach(t=>{T(t.name,l===!0)})})},e[9]=a,e[10]=k):k=e[10];const L=k;let m;e[11]!==a||e[12]!==o?(m=Object.values(a).every(l=>l.every(s=>o.includes(s.name))),e[11]=a,e[12]=o,e[13]=m):m=e[13];let d;e[14]!==L||e[15]!==m?(d=r.jsx(P,{id:"select-all",defaultChecked:m,onCheckedChange:L}),e[14]=L,e[15]=m,e[16]=d):d=e[16];let p;e[17]!==i?(p=i("roles.select_all_permissions"),e[17]=i,e[18]=p):p=e[18];let f;e[19]!==p?(f=r.jsx(S,{htmlFor:"select-all",className:"text-sm font-normal cursor-pointer",children:p}),e[19]=p,e[20]=f):f=e[20];let u;e[21]!==f||e[22]!==d?(u=r.jsxs("div",{className:"flex justify-end gap-3",children:[d,f]}),e[21]=f,e[22]=d,e[23]=u):u=e[23];let h;e[24]!==A||e[25]!==v||e[26]!==E||e[27]!==a||e[28]!==o||e[29]!==i?(h=Object.entries(a).map(l=>{const[s,n]=l;return r.jsxs(w,{className:"border-muted",children:[r.jsx(z,{className:"pb-2",children:r.jsxs(H,{className:"text-base capitalize flex items-center justify-between",children:[r.jsx("span",{children:v(s)}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(P,{id:`select-all-${s}`,checked:n.every(t=>o.includes(t.name)),onCheckedChange:t=>{E(s,t===!0)}}),r.jsx(S,{htmlFor:`select-all-${s}`,className:"text-sm font-normal cursor-pointer",children:i("roles.select_all")})]})]})}),r.jsx(K,{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:n.map(t=>{const N=o.includes(t.name),O=t.name.split(".").pop()||"";return r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(P,{id:`perm-${t.id}`,checked:N,onCheckedChange:G=>{T(t.name,G===!0)}}),r.jsx(S,{htmlFor:`perm-${t.id}`,className:"cursor-pointer text-sm",children:A(O)})]},t.id)})})]},s)}),e[24]=A,e[25]=v,e[26]=E,e[27]=a,e[28]=o,e[29]=i,e[30]=h):h=e[30];let x;e[31]!==o?(x=o.map(J),e[31]=o,e[32]=x):x=e[32];let y;return e[33]!==u||e[34]!==h||e[35]!==x?(y=r.jsxs(r.Fragment,{children:[u,h,x]}),e[33]=u,e[34]=h,e[35]=x,e[36]=y):y=e[36],y};function B(c){return c.name}function D(c){return c.name}function I(c){return c.name}function J(c){return r.jsx("input",{type:"hidden",name:"permissions[]",value:c},c)}export{le as default};
