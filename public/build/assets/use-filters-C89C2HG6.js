import{c as v,a as b,j as a,r as j}from"./app-CyAQI-Ct.js";import{D as C,a as S,b as y}from"./dropdown-menu-CmzLQmAV.js";import{B as N}from"./button-BcUc1fug.js";import{L as D}from"./label-Dg0hgwaz.js";import{B as _}from"./badge-5ozl_ORM.js";import{c as B}from"./index-DaKOksDM.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],L=B("Filter",E);function I(i){const e=v.c(12),[r,d]=b.useState(!1);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=a.jsx(L,{size:16}),e[0]=l):l=e[0];let n;e[1]!==i.activeFiltersCount?(n=i.activeFiltersCount>0&&a.jsx(_,{variant:"default",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 rounded-full text-xs font-semibold",children:i.activeFiltersCount}),e[1]=i.activeFiltersCount,e[2]=n):n=e[2];let t;e[3]!==n?(t=a.jsx(S,{asChild:!0,children:a.jsxs(N,{variant:"outline",size:"sm",className:"relative",children:[l,"Filters",n]})}),e[3]=n,e[4]=t):t=e[4];let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=a.jsx(D,{className:"text-sm font-medium mb-4 block text-left",children:"Filters"}),e[5]=c):c=e[5];let s;e[6]!==i.children?(s=a.jsxs(C,{className:"w-56 p-4",align:"center",children:[c,a.jsx("div",{className:"flex flex-col gap-4",children:i.children})]}),e[6]=i.children,e[7]=s):s=e[7];let o;return e[8]!==r||e[9]!==t||e[10]!==s?(o=a.jsxs(y,{open:r,onOpenChange:d,children:[t,s]}),e[8]=r,e[9]=t,e[10]=s,e[11]=o):o=e[11],o}function K(i){const e=v.c(16),{indexRoute:r,initialKeys:d}=i;let l;if(e[0]!==d){const u=new URL(window.location.href);l=Object.fromEntries(d.map(f=>[f,u.searchParams.get(f)||void 0])),e[0]=d,e[1]=l}else l=e[1];const n=l,[t,c]=b.useState(n);let s;e[2]!==r?(s=(u,f)=>{f==="all"&&(f=void 0),c(w=>({...w,[u]:f})),j.get(r({mergeQuery:{[u]:f,page:1}}).url,{},{preserveState:!0,preserveScroll:!0})},e[2]=r,e[3]=s):s=e[3];const o=s;let x;e[4]!==r?(x=()=>{c({}),j.get(r().url,{},{preserveState:!0,preserveScroll:!0})},e[4]=r,e[5]=x):x=e[5];const g=x;let m;e[6]!==t?(m=Object.keys(t),e[6]=t,e[7]=m):m=e[7];let h;e[8]!==t||e[9]!==m?(h=m.filter(u=>t[u]!==void 0),e[8]=t,e[9]=m,e[10]=h):h=e[10];const F=h.length;let p;return e[11]!==F||e[12]!==t||e[13]!==o||e[14]!==g?(p={filters:t,onChange:o,reset:g,activeFiltersCount:F},e[11]=F,e[12]=t,e[13]=o,e[14]=g,e[15]=p):p=e[15],p}export{I as F,K as u};
