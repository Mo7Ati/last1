import{c as T,k as Y,j as s,L as G,H as J,r as K}from"./app-CyAQI-Ct.js";import{A as U}from"./app-layout-BmQd1t-j.js";import{C as V,a as W,b as X,d as Z}from"./card-C0yM5qYx.js";import{B as ee}from"./button-BcUc1fug.js";import{B as P}from"./badge-5ozl_ORM.js";import{c as te,q as h,u as se,S as re}from"./index-DaKOksDM.js";import{L as oe}from"./loader-circle-CWAdnzuE.js";import{C as E}from"./check-Bc7V2VzP.js";/* empty css            */import"./index-COOPCwlG.js";import"./index-D1Sxl0Yc.js";import"./Combination-DOle1ty5.js";import"./index-CdqmiLvL.js";import"./x-CKbwRa-P.js";import"./index-kSSgcR_O.js";import"./dropdown-menu-CmzLQmAV.js";import"./index-pHIaYk7I.js";import"./language-switch-FiDU9BSk.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],le=te("Sparkles",ie),r=e=>({url:r.url(e),method:"get"});r.definition={methods:["get","head"],url:"/store/subscription"};r.url=e=>r.definition.url+h(e);r.get=e=>({url:r.url(e),method:"get"});r.head=e=>({url:r.url(e),method:"head"});const S=e=>({action:r.url(e),method:"get"});S.get=e=>({action:r.url(e),method:"get"});S.head=e=>({action:r.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});r.form=S;const n=e=>({url:n.url(e),method:"post"});n.definition={methods:["post"],url:"/store/subscription/checkout"};n.url=e=>n.definition.url+h(e);n.post=e=>({url:n.url(e),method:"post"});const B=e=>({action:n.url(e),method:"post"});B.post=e=>({action:n.url(e),method:"post"});n.form=B;const o=e=>({url:o.url(e),method:"get"});o.definition={methods:["get","head"],url:"/store/subscription/success"};o.url=e=>o.definition.url+h(e);o.get=e=>({url:o.url(e),method:"get"});o.head=e=>({url:o.url(e),method:"head"});const H=e=>({action:o.url(e),method:"get"});H.get=e=>({action:o.url(e),method:"get"});H.head=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});o.form=H;const c=e=>({url:c.url(e),method:"post"});c.definition={methods:["post"],url:"/store/subscription/cancel"};c.url=e=>c.definition.url+h(e);c.post=e=>({url:c.url(e),method:"post"});const $=e=>({action:c.url(e),method:"post"});$.post=e=>({action:c.url(e),method:"post"});c.form=$;const u=e=>({url:u.url(e),method:"post"});u.definition={methods:["post"],url:"/store/subscription/resume"};u.url=e=>u.definition.url+h(e);u.post=e=>({url:u.url(e),method:"post"});const z=e=>({action:u.url(e),method:"post"});z.post=e=>({action:u.url(e),method:"post"});u.form=z;const m=e=>({url:m.url(e),method:"post"});m.definition={methods:["post"],url:"/store/subscription/swap"};m.url=e=>m.definition.url+h(e);m.post=e=>({url:m.url(e),method:"post"});const D=e=>({action:m.url(e),method:"post"});D.post=e=>({action:m.url(e),method:"post"});m.form=D;const i=e=>({url:i.url(e),method:"get"});i.definition={methods:["get","head"],url:"/store/subscription/billing"};i.url=e=>i.definition.url+h(e);i.get=e=>({url:i.url(e),method:"get"});i.head=e=>({url:i.url(e),method:"head"});const O=e=>({action:i.url(e),method:"get"});O.get=e=>({action:i.url(e),method:"get"});O.head=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});i.form=O;const I={index:Object.assign(r,r),checkout:Object.assign(n,n),success:Object.assign(o,o),cancel:Object.assign(c,c),resume:Object.assign(u,u),swap:Object.assign(m,m),billing:Object.assign(i,i)};function Le(e){const t=T.c(29),{store:l,plans:k}=e,{t:a}=se("subscription"),{processing:w}=Y();console.log(l);let p;t[0]!==a?(p=a("page_title"),t[0]=a,t[1]=p):p=t[1];let C;t[2]!==p?(C=[{href:"/store/subscription",title:p}],t[2]=p,t[3]=C):C=t[3];const q=C,R=ce;let x;t[4]!==a?(x=a("page_title"),t[4]=a,t[5]=x):x=t[5];let g;t[6]!==x?(g=s.jsx(J,{title:x}),t[6]=x,t[7]=g):g=t[7];const A=l.has_subscription?"Available Plans":"Choose Your Plan";let f;t[8]!==A?(f=s.jsx("h2",{className:"text-2xl font-semibold tracking-tight sm:text-3xl",children:A}),t[8]=A,t[9]=f):f=t[9];let F;t[10]===Symbol.for("react.memo_cache_sentinel")?(F=s.jsx("p",{className:"mt-2 text-muted-foreground",children:"Select the plan that works best for you"}),t[10]=F):F=t[10];let b;t[11]!==f?(b=s.jsxs("div",{className:"mb-8 text-center",children:[f,F]}),t[11]=f,t[12]=b):b=t[12];let y;t[13]!==k||t[14]!==w||t[15]!==l.has_subscription||t[16]!==l.subscription?.name||t[17]!==l.subscription?.stripe_status||t[18]!==a?(y=k.map(d=>{const v=l.has_subscription&&l.subscription?.stripe_status!=="canceled"&&d.id===(l.subscription?.name?.toLowerCase().includes("monthly")?"monthly":"yearly"),_=d.id==="yearly",Q=k.find(ne)?.price||0,M=_&&Q>0?Math.round((Q*12-d.price)/(Q*12)*100):0;return s.jsxs(V,{className:`relative flex flex-col transition-all ${_?"border-primary shadow-lg md:scale-105":"border"} ${v?"ring-2 ring-primary":""}`,children:[_&&s.jsx("div",{className:"absolute -top-4 left-1/2 -translate-x-1/2",children:s.jsxs(P,{className:"px-3 py-1",children:[s.jsx(le,{className:"mr-1 h-3 w-3"}),a("best_value")]})}),v&&s.jsx("div",{className:"absolute -top-4 right-4",children:s.jsx(P,{variant:"secondary",className:"px-3 py-1",children:"Current"})}),s.jsxs(W,{className:"pb-8",children:[s.jsx(X,{className:"text-2xl font-semibold",children:d.name}),s.jsxs("div",{className:"mt-4",children:[s.jsxs("div",{className:"flex items-baseline gap-2",children:[s.jsxs("span",{className:"text-5xl font-bold tracking-tight",children:["$",d.price]}),s.jsxs("span",{className:"text-lg text-muted-foreground",children:["/",d.interval]})]}),_&&M>0&&s.jsxs("p",{className:"mt-2 text-sm text-primary",children:["Save ",M,"% annually"]})]})]}),s.jsxs(Z,{className:"flex flex-1 flex-col gap-6",children:[s.jsx("ul",{className:"space-y-3",children:d.features.map(ae)}),v&&s.jsxs(G,{href:I.billing.url(),className:"w-full flex items-center gap-2",children:[s.jsx(re,{className:"mr-2 h-4 w-4"}),"manage billing"]}),s.jsx("div",{className:"mt-auto pt-4",children:s.jsx(ee,{className:"w-full",onClick:()=>R(d.id),variant:_?"default":"outline",disabled:v||w,size:"lg",children:w?s.jsxs(s.Fragment,{children:[s.jsx(oe,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):v?s.jsxs(s.Fragment,{children:[s.jsx(E,{className:"mr-2 h-4 w-4"}),a("current_plan")]}):a("subscribe")})})]})]},d.id)}),t[13]=k,t[14]=w,t[15]=l.has_subscription,t[16]=l.subscription?.name,t[17]=l.subscription?.stripe_status,t[18]=a,t[19]=y):y=t[19];let j;t[20]!==y?(j=s.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:y}),t[20]=y,t[21]=j):j=t[21];let N;t[22]!==j||t[23]!==b?(N=s.jsx("div",{className:"flex h-full flex-1 flex-col overflow-x-auto",children:s.jsx("div",{className:"container mx-auto px-4 py-8  space-y-8",children:s.jsxs("div",{className:"mx-auto max-w-5xl",children:[b,j]})})}),t[22]=j,t[23]=b,t[24]=N):N=t[24];let L;return t[25]!==q||t[26]!==N||t[27]!==g?(L=s.jsxs(U,{breadcrumbs:q,children:[g,N]}),t[25]=q,t[26]=N,t[27]=g,t[28]=L):L=t[28],L}function ae(e,t){return s.jsx(s.Fragment,{children:s.jsxs("li",{className:"flex items-start gap-3",children:[s.jsx(E,{className:"mt-0.5 h-5 w-5 shrink-0 text-primary"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:e})]},t)})}function ne(e){return e.id==="monthly"}async function ce(e){K.post(I.checkout.url(),{plan:e})}export{Le as default};
