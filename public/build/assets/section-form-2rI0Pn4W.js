import{c as U,r as H,j as e,F as W,a as X}from"./app-CReFZqIV.js";import{C as O,a as J,b as K,c as P,d as k}from"./card-CCXf00hf.js";import{F as Y}from"./form-buttons-CcV8mEzI.js";import{L as j}from"./label-Dg3MsbMJ.js";import{d as q,S as E,a as I,c as $,b as m}from"./select-BQsC6PdO.js";import{M as w}from"./multi-select-DTTF5dGi.js";import{I as p}from"./input-error-JJKA4HvL.js";import{u as Z,s as G,n as d}from"./index--n5hxdl0.js";import{I as ee}from"./is-active-CE4U764D.js";import{T as v}from"./translatable-tabs-D9w21jpy.js";/* empty css            */import"./button-B0VQxKKl.js";import"./index-peeSS-jg.js";import"./spinner-BPm-LIJ0.js";import"./loader-circle-B9H78sE-.js";import"./index-B9nCDBby.js";import"./index-B6IN1UEK.js";import"./index-BePiITCa.js";import"./Combination-B4fHLGDi.js";import"./index-h7gUpZq5.js";import"./index-UWeAr231.js";import"./index-i7tVzWtG.js";import"./chevron-down-BXBgP7GU.js";import"./check-CzBG5M_7.js";import"./separator-BcTtMnpK.js";import"./badge-9etnQJwJ.js";import"./index-Ct4cpP-4.js";import"./x-DOpfyS37.js";import"./input-DY5TLL8t.js";function Me(i){const t=U.c(38),{section:a,sectionTypes:M,products:y,categories:g,stores:b,type:c}=i;let S;t[0]!==y?(S=y===void 0?[]:y,t[0]=y,t[1]=S):S=t[1];const L=S;let C;t[2]!==g?(C=g===void 0?[]:g,t[2]=g,t[3]=C):C=t[3];const R=C;let N;t[4]!==b?(N=b===void 0?[]:b,t[4]=b,t[5]=N):N=t[5];const z=N,{t:s}=Z("forms"),[n,Q]=H.useState(a.type),[u,x]=H.useState(a.data);let V;t[6]!==c?(V=()=>{c==="create"&&x([])},t[6]=c,t[7]=V):V=t[7];let F;t[8]!==n||t[9]!==c?(F=[n,c],t[8]=n,t[9]=c,t[10]=F):F=t[10],H.useEffect(V,F),console.log(u);const A=c==="edit"?"put":"post";let h;t[11]!==a.id||t[12]!==c?(h=c==="edit"&&a.id?G.update.url({section:a.id}):G.store.url(),t[11]=a.id,t[12]=c,t[13]=h):h=t[13];let f;t[14]!==u?(f=T=>{const B=T.data||{};return{...T,data:{...u,...B}}},t[14]=u,t[15]=f):f=t[15];let _;t[16]!==R||t[17]!==L||t[18]!==a.data?.category_ids||t[19]!==a.data?.description||t[20]!==a.data?.features||t[21]!==a.data?.product_ids||t[22]!==a.data?.source||t[23]!==a.data?.store_ids||t[24]!==a.data?.title||t[25]!==a.is_active||t[26]!==u||t[27]!==n||t[28]!==M||t[29]!==z||t[30]!==s||t[31]!==c?(_=T=>{const{processing:B,errors:o}=T;return e.jsxs("div",{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{children:e.jsxs(O,{children:[e.jsxs(J,{children:[e.jsx(K,{children:s(c==="create"?"sections.create_section":"sections.edit_section")}),e.jsx(P,{children:s(c==="create"?"sections.create_section_info":"sections.edit_section_info")})]}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"type",children:s("sections.type")}),e.jsxs(q,{defaultValue:n||void 0,onValueChange:r=>Q(r),name:"type","aria-invalid":o.type?"true":"false",required:!0,children:[e.jsx(E,{id:"type",children:e.jsx(I,{placeholder:s("sections.select_section_type")})}),e.jsx($,{children:Object.entries(M).map(r=>{const[l]=r;return e.jsx(m,{value:l,children:s(`sections.types.${l}`)},l)})})]}),e.jsx(p,{message:o.type})]}),e.jsx(ee,{value:a.is_active||!0})]})]})}),e.jsx("div",{children:e.jsxs(O,{hidden:!n,children:[e.jsxs(J,{children:[e.jsx(K,{children:s("sections.section_type_details")}),e.jsx(P,{children:s("sections.section_type_details_info")})]}),e.jsxs(k,{className:"space-y-4",children:[n==="hero"&&e.jsx(v,{fields:[{name:"data.title",label:s("common.title"),type:"text",value:d(a.data?.title),required:!0},{name:"data.description",label:s("common.description"),type:"textarea",value:d(a.data?.description),required:!0}],errors:o}),n==="features"&&e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[[0,1,2,3].map(r=>e.jsx("div",{children:e.jsx(O,{children:e.jsx(k,{children:e.jsx(v,{fields:[{name:`data.features.${r}.title`,label:s("sections.feature"),type:"text",value:d(a.data?.features?.[r]?.title),required:!0},{name:`data.features.${r}.description`,label:s("sections.description"),type:"text",value:d(a.data?.features?.[r]?.description)}],errors:o})})})},r)),o["data.features"]&&e.jsx("div",{className:"col-span-2",children:e.jsx(p,{message:o["data.features"]})})]}),n==="products"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{fields:[{name:"data.title",label:s("common.title"),type:"text",value:d(a.data?.title),required:!0},{name:"data.description",label:s("common.description"),type:"text",value:d(a.data?.description)}],errors:o}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"sectionData.source",children:s("sections.source")}),e.jsxs(q,{onValueChange:r=>x(l=>({...l,source:r})),defaultValue:a.data?.source||void 0,children:[e.jsx(E,{id:"sectionData.source",children:e.jsx(I,{placeholder:s("sections.select_source")})}),e.jsxs($,{children:[e.jsx(m,{value:"latest",children:s("sections.products.latest")}),e.jsx(m,{value:"best_seller",children:s("sections.products.best_seller")}),e.jsx(m,{value:"manual",children:s("sections.manual_selection")})]})]}),e.jsx(p,{message:o["data.source"]})]}),u?.source==="manual"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(j,{children:[s("sections.select_products")," *"]}),e.jsx(w,{defaultValue:a.data?.product_ids||[],options:L.map(ie),onValueChange:r=>x(l=>({...l,product_ids:r})),placeholder:s("sections.select_products_placeholder")}),e.jsx(p,{message:o["data.product_ids"]})]})]}),n==="categories"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{fields:[{name:"data.title",label:s("common.title"),type:"text",value:d(a.data?.title),required:!0},{name:"data.description",label:s("common.description"),type:"text",value:d(a.data?.description)}],errors:o}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"sectionData.source",children:s("sections.source")}),e.jsxs(q,{defaultValue:a.data?.source||void 0,onValueChange:r=>{x(l=>({...l,source:r}))},children:[e.jsx(E,{id:"sectionData.source",children:e.jsx(I,{placeholder:s("sections.select_source")})}),e.jsxs($,{children:[e.jsx(m,{value:"featured_only",children:s("sections.categories.featured_only")}),e.jsx(m,{value:"manual",children:s("sections.manual_selection")})]})]}),e.jsx(p,{message:o["data.source"]})]}),u?.source==="manual"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(j,{children:[s("sections.select_categories")," *"]}),e.jsx(w,{defaultValue:a.data?.category_ids||[],options:R.map(ae),onValueChange:r=>x(l=>({...l,category_ids:r})),placeholder:s("sections.select_categories_placeholder")}),e.jsx(p,{message:o["data.category_ids"]})]})]}),n==="stores"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{fields:[{name:"data.title",label:s("common.title"),type:"text",value:d(a.data?.title),required:!0},{name:"data.description",label:s("common.description"),type:"text",value:d(a.data?.description)}],errors:o}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"sectionData.source",children:s("sections.source")}),e.jsxs(q,{defaultValue:a.data?.source||void 0,onValueChange:r=>{x(l=>({...l,source:r}))},children:[e.jsx(E,{id:"sectionData.source",children:e.jsx(I,{placeholder:s("sections.select_source")})}),e.jsxs($,{children:[e.jsx(m,{value:"trendy",children:s("sections.stores.trendy")}),e.jsx(m,{value:"manual",children:s("sections.manual_selection")})]})]}),e.jsx(p,{message:o["data.source"]})]}),u?.source==="manual"&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(j,{children:[s("sections.select_stores")," *"]}),e.jsx(w,{options:z.map(se),defaultValue:a.data?.store_ids||[],onValueChange:r=>x(l=>({...l,store_ids:r})),placeholder:s("sections.select_stores_placeholder")}),e.jsx(p,{message:o["data.store_ids"]})]})]}),n==="vendor_cta"&&e.jsx("div",{className:"space-y-4",children:e.jsx(v,{fields:[{name:"data.title",label:s("common.title"),type:"text",value:d(u.title||{}),required:!0},{name:"data.description",label:s("common.description"),type:"textarea",value:d(u.description||{})}],errors:o})})]})]})})]}),e.jsx(Y,{handleCancel:te,processing:B,isEditMode:c==="edit"})]})},t[16]=R,t[17]=L,t[18]=a.data?.category_ids,t[19]=a.data?.description,t[20]=a.data?.features,t[21]=a.data?.product_ids,t[22]=a.data?.source,t[23]=a.data?.store_ids,t[24]=a.data?.title,t[25]=a.is_active,t[26]=u,t[27]=n,t[28]=M,t[29]=z,t[30]=s,t[31]=c,t[32]=_):_=t[32];let D;return t[33]!==h||t[34]!==f||t[35]!==_||t[36]!==A?(D=e.jsx(W,{method:A,action:h,transform:f,children:_}),t[33]=h,t[34]=f,t[35]=_,t[36]=A,t[37]=D):D=t[37],D}function te(){return X.visit(G.index.url())}function se(i){return{value:String(i.id),label:typeof i.name=="string"?i.name:i.name.en||i.name.ar||String(i.id)}}function ae(i){return{value:String(i.id),label:typeof i.name=="string"?i.name:i.name.en||i.name.ar||String(i.id)}}function ie(i){return{value:String(i.id),label:typeof i.name=="string"?i.name:i.name.en||i.name.ar||String(i.id)}}export{Me as default};
