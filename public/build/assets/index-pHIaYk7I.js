import{a as r,j as v,R as x}from"./app-CyAQI-Ct.js";import{b as q,d as L,e as O,P as G,f as h,h as z}from"./index-DaKOksDM.js";import{u as Z,a as J}from"./index-D1Sxl0Yc.js";function j(e){const t=Q(e),n=r.forwardRef((o,c)=>{const{children:l,...d}=o,u=r.Children.toArray(l),g=u.find(ee);if(g){const p=g.props.children,a=u.map(b=>b===g?r.Children.count(p)>1?r.Children.only(null):r.isValidElement(p)?p.props.children:null:b);return v.jsx(t,{...d,ref:c,children:r.isValidElement(p)?r.cloneElement(p,void 0,a):null})}return v.jsx(t,{...d,ref:c,children:l})});return n.displayName=`${e}.Slot`,n}function Q(e){const t=r.forwardRef((n,o)=>{const{children:c,...l}=n;if(r.isValidElement(c)){const d=oe(c),u=te(l,c.props);return c.type!==r.Fragment&&(u.ref=o?q(o,d):d),r.cloneElement(c,u)}return r.Children.count(c)>1?r.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var X=Symbol("radix.slottable");function ee(e){return r.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===X}function te(e,t){const n={...t};for(const o in t){const c=e[o],l=t[o];/^on[A-Z]/.test(o)?c&&l?n[o]=(...u)=>{const g=l(...u);return c(...u),g}:c&&(n[o]=c):o==="style"?n[o]={...c,...l}:o==="className"&&(n[o]=[c,l].filter(Boolean).join(" "))}return{...e,...n}}function oe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ne(e){const t=e+"CollectionProvider",[n,o]=L(t),[c,l]=n(t,{collectionRef:{current:null},itemMap:new Map}),d=C=>{const{scope:s,children:m}=C,R=x.useRef(null),i=x.useRef(new Map).current;return v.jsx(c,{scope:s,itemMap:i,collectionRef:R,children:m})};d.displayName=t;const u=e+"CollectionSlot",g=j(u),p=x.forwardRef((C,s)=>{const{scope:m,children:R}=C,i=l(u,m),f=O(s,i.collectionRef);return v.jsx(g,{ref:f,children:R})});p.displayName=u;const a=e+"CollectionItemSlot",b="data-radix-collection-item",y=j(a),E=x.forwardRef((C,s)=>{const{scope:m,children:R,...i}=C,f=x.useRef(null),T=O(s,f),w=l(a,m);return x.useEffect(()=>(w.itemMap.set(f,{ref:f,...i}),()=>void w.itemMap.delete(f))),v.jsx(y,{[b]:"",ref:T,children:R})});E.displayName=a;function F(C){const s=l(e+"CollectionConsumer",C);return x.useCallback(()=>{const R=s.collectionRef.current;if(!R)return[];const i=Array.from(R.querySelectorAll(`[${b}]`));return Array.from(s.itemMap.values()).sort((w,_)=>i.indexOf(w.ref.current)-i.indexOf(_.ref.current))},[s.collectionRef,s.itemMap])}return[{Provider:d,Slot:p,ItemSlot:E},F,o]}var re=r.createContext(void 0);function se(e){const t=r.useContext(re);return e||t||"ltr"}var P="rovingFocusGroup.onEntryFocus",ce={bubbles:!1,cancelable:!0},A="RovingFocusGroup",[D,K,ie]=ne(A),[le,be]=L(A,[ie]),[ae,ue]=le(A),k=r.forwardRef((e,t)=>v.jsx(D.Provider,{scope:e.__scopeRovingFocusGroup,children:v.jsx(D.Slot,{scope:e.__scopeRovingFocusGroup,children:v.jsx(fe,{...e,ref:t})})}));k.displayName=A;var fe=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:o,loop:c=!1,dir:l,currentTabStopId:d,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:g,onEntryFocus:p,preventScrollOnEntryFocus:a=!1,...b}=e,y=r.useRef(null),E=O(t,y),F=se(l),[C,s]=z({prop:d,defaultProp:u??null,onChange:g,caller:A}),[m,R]=r.useState(!1),i=J(p),f=K(n),T=r.useRef(!1),[w,_]=r.useState(0);return r.useEffect(()=>{const I=y.current;if(I)return I.addEventListener(P,i),()=>I.removeEventListener(P,i)},[i]),v.jsx(ae,{scope:n,orientation:o,dir:F,loop:c,currentTabStopId:C,onItemFocus:r.useCallback(I=>s(I),[s]),onItemShiftTab:r.useCallback(()=>R(!0),[]),onFocusableItemAdd:r.useCallback(()=>_(I=>I+1),[]),onFocusableItemRemove:r.useCallback(()=>_(I=>I-1),[]),children:v.jsx(G.div,{tabIndex:m||w===0?-1:0,"data-orientation":o,...b,ref:E,style:{outline:"none",...e.style},onMouseDown:h(e.onMouseDown,()=>{T.current=!0}),onFocus:h(e.onFocus,I=>{const W=!T.current;if(I.target===I.currentTarget&&W&&!m){const M=new CustomEvent(P,ce);if(I.currentTarget.dispatchEvent(M),!M.defaultPrevented){const N=f().filter(S=>S.focusable),H=N.find(S=>S.active),Y=N.find(S=>S.id===C),$=[H,Y,...N].filter(Boolean).map(S=>S.ref.current);B($,a)}}T.current=!1}),onBlur:h(e.onBlur,()=>R(!1))})})}),V="RovingFocusGroupItem",U=r.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:o=!0,active:c=!1,tabStopId:l,children:d,...u}=e,g=Z(),p=l||g,a=ue(V,n),b=a.currentTabStopId===p,y=K(n),{onFocusableItemAdd:E,onFocusableItemRemove:F,currentTabStopId:C}=a;return r.useEffect(()=>{if(o)return E(),()=>F()},[o,E,F]),v.jsx(D.ItemSlot,{scope:n,id:p,focusable:o,active:c,children:v.jsx(G.span,{tabIndex:b?0:-1,"data-orientation":a.orientation,...u,ref:t,onMouseDown:h(e.onMouseDown,s=>{o?a.onItemFocus(p):s.preventDefault()}),onFocus:h(e.onFocus,()=>a.onItemFocus(p)),onKeyDown:h(e.onKeyDown,s=>{if(s.key==="Tab"&&s.shiftKey){a.onItemShiftTab();return}if(s.target!==s.currentTarget)return;const m=me(s,a.orientation,a.dir);if(m!==void 0){if(s.metaKey||s.ctrlKey||s.altKey||s.shiftKey)return;s.preventDefault();let i=y().filter(f=>f.focusable).map(f=>f.ref.current);if(m==="last")i.reverse();else if(m==="prev"||m==="next"){m==="prev"&&i.reverse();const f=i.indexOf(s.currentTarget);i=a.loop?Ie(i,f+1):i.slice(f+1)}setTimeout(()=>B(i))}}),children:typeof d=="function"?d({isCurrentTabStop:b,hasTabStop:C!=null}):d})})});U.displayName=V;var de={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function me(e,t,n){const o=pe(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return de[o]}function B(e,t=!1){const n=document.activeElement;for(const o of e)if(o===n||(o.focus({preventScroll:t}),document.activeElement!==n))return}function Ie(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var Ee=k,Se=U;export{Se as I,Ee as R,be as a,ne as c,se as u};
