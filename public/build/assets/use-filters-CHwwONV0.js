import{c as C,r as w,j as a,a as F}from"./app-CReFZqIV.js";import{a as N,b as y,D as S}from"./dropdown-menu-w7wWu1Ff.js";import{B as p}from"./button-B0VQxKKl.js";import{L as D}from"./label-Dg3MsbMJ.js";import{B}from"./badge-9etnQJwJ.js";import{c as E,u as L}from"./index--n5hxdl0.js";import{X as O}from"./x-DOpfyS37.js";const R=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],_=E("Filter",R);function P(s){const e=C.c(24),[c,h]=w.useState(!1),{t:i}=L("common");let g;e[0]===Symbol.for("react.memo_cache_sentinel")?(g=a.jsx(_,{size:16}),e[0]=g):g=e[0];let t;e[1]!==s.activeFiltersCount?(t=s.activeFiltersCount>0&&a.jsx(B,{variant:"default",className:"absolute -top-2 -right-2 h-5 w-5 flex items-center justify-center p-0 rounded-full text-xs font-semibold",children:s.activeFiltersCount}),e[1]=s.activeFiltersCount,e[2]=t):t=e[2];let u;e[3]!==t?(u=a.jsx(N,{asChild:!0,children:a.jsxs(p,{variant:"outline",size:"sm",className:"relative",children:[g,t]})}),e[3]=t,e[4]=u):u=e[4];let r;e[5]!==i?(r=i("filters"),e[5]=i,e[6]=r):r=e[6];let f;e[7]!==r?(f=a.jsx(D,{className:"text-sm font-medium mb-4 block text-left",children:r}),e[7]=r,e[8]=f):f=e[8];let n;e[9]!==s.children?(n=a.jsx("div",{className:"flex flex-col gap-4",children:s.children}),e[9]=s.children,e[10]=n):n=e[10];let m;e[11]!==s||e[12]!==i?(m=s.activeFiltersCount>0&&a.jsxs(p,{variant:"ghost",size:"sm",onClick:()=>{s.onClearFilters?.(),h(!1)},className:"h-9 px-2 lg:px-3",children:[a.jsx(O,{className:"h-4 w-4 mr-1"}),i("clear_filters")]}),e[11]=s,e[12]=i,e[13]=m):m=e[13];let l;e[14]!==m?(l=a.jsx("div",{className:"flex justify-center mt-4",children:m}),e[14]=m,e[15]=l):l=e[15];let o;e[16]!==f||e[17]!==n||e[18]!==l?(o=a.jsxs(y,{className:"w-56 p-4",align:"center",children:[f,n,l]}),e[16]=f,e[17]=n,e[18]=l,e[19]=o):o=e[19];let d;return e[20]!==c||e[21]!==u||e[22]!==o?(d=a.jsxs(S,{open:c,onOpenChange:h,children:[u,o]}),e[20]=c,e[21]=u,e[22]=o,e[23]=d):d=e[23],d}function Q(s){const e=C.c(16),{indexRoute:c,initialKeys:h}=s;let i;if(e[0]!==h){const j=new URL(window.location.href);i=Object.fromEntries(h.map(x=>[x,j.searchParams.get(x)||void 0])),e[0]=h,e[1]=i}else i=e[1];const g=i,[t,u]=w.useState(g);let r;e[2]!==c?(r=(j,x)=>{x==="all"&&(x=void 0),u(b=>({...b,[j]:x})),F.get(c({mergeQuery:{[j]:x,page:1}}).url,{},{preserveState:!0,preserveScroll:!0})},e[2]=c,e[3]=r):r=e[3];const f=r;let n;e[4]!==c?(n=()=>{u({}),F.get(c().url,{},{preserveState:!1,preserveScroll:!0})},e[4]=c,e[5]=n):n=e[5];const m=n;let l;e[6]!==t?(l=Object.keys(t),e[6]=t,e[7]=l):l=e[7];let o;e[8]!==t||e[9]!==l?(o=l.filter(j=>t[j]!==void 0),e[8]=t,e[9]=l,e[10]=o):o=e[10];const d=o.length;let v;return e[11]!==d||e[12]!==t||e[13]!==f||e[14]!==m?(v={filters:t,activeFiltersCount:d,onChange:f,reset:m},e[11]=d,e[12]=t,e[13]=f,e[14]=m,e[15]=v):v=e[15],v}export{P as F,Q as u};
