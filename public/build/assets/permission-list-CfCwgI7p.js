import{c as F,a as L,j as s}from"./app-CuPv96cr.js";import{C as O,a as T,b as R,d as Z}from"./card-BDLawFCA.js";import{C as $}from"./checkbox-DxFHJ92Z.js";import{L as v}from"./label-CESE8nmt.js";import{u as w}from"./index-BmVTDNLh.js";/* empty css            */import"./index-Ct-UpJ3G.js";import"./index-DymZOPzd.js";import"./check-DwHuZAq7.js";const W=a=>{const e=F.c(31),{role:_,permissions:l}=a,{t:m}=w("forms");let j;e[0]!==_.permissions?(j=_.permissions?.map(z)||[],e[0]=_.permissions,e[1]=j):j=e[1];const[i,E]=L.useState(j);let C;e[2]===Symbol.for("react.memo_cache_sentinel")?(C=(n,r)=>{E(c=>r?[...c,n]:c.filter(t=>t!==n))},e[2]=C):C=e[2];const P=C;let g;e[3]!==l?(g=(n,r)=>{E(c=>r?[...c,...l[n].map(G)]:c.filter(t=>!l[n].map(H).includes(t)))},e[3]=l,e[4]=g):g=e[4];const k=g;let b;e[5]!==l?(b=n=>{Object.entries(l).forEach(r=>{const[,c]=r;c.forEach(t=>{P(t.name,n===!0)})})},e[5]=l,e[6]=b):b=e[6];const y=b;let o;e[7]!==l||e[8]!==i?(o=Object.values(l).every(n=>n.every(r=>i.includes(r.name))),e[7]=l,e[8]=i,e[9]=o):o=e[9];let d;e[10]!==y||e[11]!==o?(d=s.jsx($,{id:"select-all",defaultChecked:o,onCheckedChange:y}),e[10]=y,e[11]=o,e[12]=d):d=e[12];let p;e[13]!==m?(p=m("roles.select_all_permissions"),e[13]=m,e[14]=p):p=e[14];let f;e[15]!==p?(f=s.jsx(v,{htmlFor:"select-all",className:"text-sm font-normal cursor-pointer",children:p}),e[15]=p,e[16]=f):f=e[16];let u;e[17]!==d||e[18]!==f?(u=s.jsxs("div",{className:"flex justify-end gap-3",children:[d,f]}),e[17]=d,e[18]=f,e[19]=u):u=e[19];let h;e[20]!==k||e[21]!==l||e[22]!==i||e[23]!==m?(h=Object.entries(l).map(n=>{const[r,c]=n;return s.jsxs(O,{className:"border-muted",children:[s.jsx(T,{className:"pb-2",children:s.jsxs(R,{className:"text-base capitalize flex items-center justify-between",children:[s.jsx("span",{children:r.replace(/([A-Z])/g," $1")}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($,{id:`select-all-${r}`,checked:c.every(t=>i.includes(t.name)),onCheckedChange:t=>{k(r,t===!0)}}),s.jsx(v,{htmlFor:`select-all-${r}`,className:"text-sm font-normal cursor-pointer",children:m("roles.select_all")})]})]})}),s.jsx(Z,{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:c.map(t=>{const S=i.includes(t.name);return s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx($,{id:`perm-${t.id}`,checked:S,onCheckedChange:A=>{P(t.name,A===!0)}}),s.jsx(v,{htmlFor:`perm-${t.id}`,className:"cursor-pointer text-sm",children:t.name.split(".").pop()?.replace(/([A-Z])/g," $1")})]},t.id)})})]},r)}),e[20]=k,e[21]=l,e[22]=i,e[23]=m,e[24]=h):h=e[24];let x;e[25]!==i?(x=i.map(q),e[25]=i,e[26]=x):x=e[26];let N;return e[27]!==h||e[28]!==x||e[29]!==u?(N=s.jsxs(s.Fragment,{children:[u,h,x]}),e[27]=h,e[28]=x,e[29]=u,e[30]=N):N=e[30],N};function z(a){return a.name}function G(a){return a.name}function H(a){return a.name}function q(a){return s.jsx("input",{type:"hidden",name:"permissions[]",value:a},a)}export{W as default};
